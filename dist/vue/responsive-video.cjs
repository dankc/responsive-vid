"use strict";const e=require("vue"),E=e.defineComponent({name:"ResponsiveVideo",props:{options:{type:Object,required:!0},isautoplay:{type:Boolean,required:!1,default:!1}},setup(o){const{options:s,isautoplay:l}=e.toRefs(o),i=Object.keys(s.value),p=["mp4","webm","ogg","x-m4v","quicktime","x-ms-wmv","mpeg","3gpp","3gpp2"],n=e.ref(),u=e.ref([]),d=e.ref(),c=e.ref(0),v=e.ref(!l.value),m=l.value?{muted:!0,autoplay:!0,loop:!0,playsinline:!0}:{},y=t=>{const r=t.split("."),a=r[r.length-1];return p.includes(a)?`video/${a}`:void 0},g=t=>(t=/^\(/.test(t)?t:`(${t}`,/\)$/.test(t)?t:`${t})`),$=()=>{n.value&&(n.value.currentTime=c.value<n.value?.duration?c.value:0,v.value||n.value.play())},f=t=>{const{src:r,poster:a}=s.value[t];n.value?.pause(),c.value=n.value?.currentTime||0,d.value=a||d.value||void 0,u.value=Array.isArray(r)?[...r]:[r],n.value?.load()},B=()=>{i.forEach(t=>{const r=g(t),a=window.matchMedia(r);a.matches&&f(t),a.addEventListener("change",({matches:V})=>{V&&f(t)})})};return e.onMounted(()=>{B()}),{backgroundVideoAttrs:m,getMediaType:y,handleVideoLoad:$,isPaused:v,poster:d,sources:u,videoEl:n}}}),k=(o,s)=>{const l=o.__vccOpts||o;for(const[i,p]of s)l[i]=p;return l},L=["poster"],P=["src","type"];function T(o,s,l,i,p,n){return e.openBlock(),e.createElementBlock("video",e.mergeProps({ref:"videoEl",poster:o.poster},o.backgroundVideoAttrs,{onLoadedmetadata:s[0]||(s[0]=(...u)=>o.handleVideoLoad&&o.handleVideoLoad(...u)),onPause:s[1]||(s[1]=()=>o.isPaused=!0),onPlay:s[2]||(s[2]=()=>o.isPaused=!1)}),[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.sources,(u,d)=>(e.openBlock(),e.createElementBlock("source",{key:d,src:u,type:o.getMediaType(u)},null,8,P))),128)),e.renderSlot(o.$slots,"default")],16,L)}const h=k(E,[["render",T]]);module.exports=h;
