"use strict";const e=require("vue"),_=e.defineComponent({name:"ResponsiveVideo",props:{options:{type:Object,required:!0},isautoplay:{type:Boolean,required:!1,default:!1}},setup(o){const{options:r,isautoplay:n}=e.toRefs(o),a=Object.keys(r.value),i=["mp4","webm","ogg","x-m4v","quicktime","x-ms-wmv","mpeg","3gpp","3gpp2"],s=e.ref(),u=e.ref([]),c=e.ref(),v=n.value?{muted:!0,autoplay:!0,loop:!0,playsinline:!0}:{},m=t=>{const p=t.split("."),l=p[p.length-1];return i.includes(l)?`video/${l}`:void 0},f=t=>(t=/^\(/.test(t)?t:`(${t}`,/\)$/.test(t)?t:`${t})`),y=()=>{a.forEach(t=>{const p=f(t);window.matchMedia(p).addEventListener("change",()=>{const l=s.value?.currentTime||0,{src:d,poster:g}=r.value[t];c.value=g||c.value||void 0,u.value=Array.isArray(d)?[...d]:[d],s.value?.load(),s.value&&(s.value.currentTime=l<s.value.duration?l:0),s.value?.play()})})};return e.onMounted(()=>{y()}),{backgroundVideoAttrs:v,getMediaType:m,poster:c,sources:u}}}),$=(o,r)=>{const n=o.__vccOpts||o;for(const[a,i]of r)n[a]=i;return n},B=["poster"],h=["src","type"];function k(o,r,n,a,i,s){return e.openBlock(),e.createElementBlock("video",e.mergeProps({ref:"videoEl",poster:o.poster},o.backgroundVideoAttrs),[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.sources,(u,c)=>(e.openBlock(),e.createElementBlock("source",{key:c,src:u,type:o.getMediaType(u)},null,8,h))),128)),e.renderSlot(o.$slots,"default")],16,B)}const E=$(_,[["render",k]]);module.exports=E;
